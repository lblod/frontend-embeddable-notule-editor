<!DOCTYPE html>
<html>
  <head>
    <title>I have an editor in my document</title>
    <meta charset="utf-8">
    <!-- Requirements for the style -->
    <link rel="stylesheet" href="assets/frontend-embeddable-notule-editor.css" />
    <link rel="stylesheet" href="assets/vendor.css" />
    <!-- Style of this demo app, NOT REQUIRED -->
    <link rel="stylesheet" href="assets/demo.css" />
    <!-- Sources of the editor -->
    <script src="assets/vendor.js"></script>
    <script src="assets/frontend-embeddable-notule-editor-app.js"></script>
    <script src="assets/frontend-embeddable-notule-editor.js"></script>
  </head>

  <!-- Next up, we put some tags in the body of our web page. We'll place the editor in those tags. -->

  <body>
    <div class="au-c-content au-u-padding-tiny au-u-padding-left demo-header">
      <h1>Embeddable RDFa editor</h1>
      <p class="au-u-margin-tiny au-u-margin-left-none">
        Test environment. <a href="https://github.com/lblod/frontend-embeddable-notule-editor">Documentation</a> | <a href="test.html">full editor example</a> | <a href="citations-only.html">citations only</a>
      </p>
    </div>
    <div prefix="besluit: http://data.vlaanderen.be/ns/besluit#">
      <div typeof="besluit:Besluit" property="besluit:motivering">
        <div id="my-editor"></div>
      </div>
    </div>
    </div>

    <!-- Lastly, we'll instantiate the editor. We wait until the dom has loaded using an event listener and we'd put this script in the head, but you can use another method if desired. -->

    <script>
     window.addEventListener('load', function () {
       let App = require('frontend-embeddable-notule-editor/app').default.create({
         autoboot: false,
         name: 'frontend-embeddable-notule-editor'
       });
      

       // Lanuch the editor
       App.visit('/', { rootElement: '#my-editor' });
       setTimeout(function() {
         const editorContainer = document.getElementById('my-editor');
         const editorElement = editorContainer.getElementsByClassName('notule-editor')[0]
         editorElement.setHtmlContent('');  // note the content in the page changing
         console.log(editorElement.getHtmlContent());  // note there may be a difference in returned content
         editorElement.enablePlugin('citaten-plugin')
       }, 1000);
     });
    </script>
  </body>
</html>
